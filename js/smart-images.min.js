$.fn.smartImages=function(prop){var options=$.extend({wrap_id:"preview",cursor_paddindg:15,img_get:"image",fadein:200},prop);function getXY(e){if($(window).width()-offset*2>=$("#"+options.wrap_id).width()+e.pageX)left_pos=e.pageX+offset;else left_pos=e.pageX-$("#"+options.wrap_id).width()-offset;top_pos=e.pageY-$("#"+options.wrap_id).height()/2;return{left:left_pos,top:top_pos}}offset=options.cursor_paddindg;var left_pos;this.hover(function(e){$("body").append("<p id='"+options.wrap_id+"'><img src='"+$(this).data(options.img_get)+"' /></p>");pos=getXY(e);$("#"+options.wrap_id).css({left:pos.left,top:pos.top}).fadeIn(options.fadein)},function(){$("#"+options.wrap_id).remove()});this.mousemove(function(e){pos=getXY(e);$("#"+options.wrap_id).css({left:pos.left,top:pos.top})});return this};